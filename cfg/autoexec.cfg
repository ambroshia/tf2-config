// https://cfg.tf/make/
// https://developer.valvesoftware.com/wiki/Console_Command_List
// https://developer.valvesoftware.com/wiki/List_of_TF2_console_commands_and_variables
// launch params: https://docs.mastercomfig.com/en/latest/customization/launch_options/
// -dxlevel 92 -fullscreen -console -novid -nostartupsound -nojoy -nosteamcontroller -nohltv
// new change makes it so that autoexec and related scripts must be in the /tf/cfg/ folder instead of /tf/customs/

// enable developer console
con_enable 1
sv_cheats 1



// executes other scripts

exec gfx // cowmangalia "Max FPS for High Quality PCs", with ragdolls and facial features enabled
exec network // default cfg.tf network options

exec null // cfg.tf null movement cancel
exec confilter // cfg.tf 
exec tabgraph // cfg.tf, with modification of net_graph 0 to net_graph 1

exec protect // https://github.com/CasualX/SourceProtect



// CROSSHAIR SETTINGS
cl_crosshair_file "crosshair3" // da circle
cl_crosshair_scale 31
cl_crosshair_red "0"
cl_crosshair_blue "0"
cl_crosshair_green "255"



// ----- Advanced options -----
// https://wiki.teamfortress.com/wiki/Multiplayer_advanced_options

// mouse filter: off, it causes jitter
m_filter 0

// mouse sensitivity: on kde neon with half sensitivity and accel disabled via InputClass, the in-game sensitivity is half of that of windows with half sensitivity and accel disabled (i.e. 1.5 on neon is 3 on windows)
sensitivity 1.5

// raw input: ON
m_rawinput 1

// mouse accel: OFF
m_customaccel 0



// ----- AUDIO -----

// Captioning: Allergedly lowers fps
closecaption 0

// mutes chat as well as voice for muted players
cl_mute_all_comms 1



// ----- COMBAT OPTIONS -----

cl_autoreload 1
hud_fastswitch 1

tf_dingalingaling 1
tf_dingalingaling_repeat_delay 0.0
tf_dingaling_volume 1
// hitsound min/max pitch: test on tr_walkway, may be better values so hit up /r/truetf2
tf_dingaling_pitchmindmg 75
tf_dingaling_pitchmaxdmg 195

hud_combattext 1
// accumulate damage text yes, try different values on tr_walkway as pyro/heavy etc
hud_combattext_batching 1
hud_combattext_batching_window 0.7

// damage text doesn't overrides crit minicrit msgs: no, since there is already an audio cue, it should override the text
hud_combattext_doesnt_block_overhead_text 0

// dont remember last/active weapons between lives
tf_remember_activeweapon 0
tf_remember_lastswitched 0

// sniper fully scope charge ping: yeah whynot
tf_sniper_fullcharge_bell 1



// CLASS SPECIFIC OPTIONS

// Spy concise disguise menu: nope
tf_simple_disguise_menu 0

// sniper auto rezoom: no
cl_autorezoom 0

tf_hud_no_crosshair_on_scope_zoom 0
tf_medigun_autoheal 1

// floating indicator on healing target (little blue arrow)
hud_medichealtargetmarker 1

hud_medicautocallers 1
// 100% - 20.5%*2 (2 small first aid kits)
hud_medicautocallersthreshold 59



// HUD OPTIONS

// THIS TURNS OFF THE FLOATING TARGET HEALTH DISPLAY
tf_hud_target_id_disable_floating_health 1

// Show steam avatar on target ID, good for differentiation 1 = everyone, 2 = friends only.
tf_hud_target_id_show_avatars 1

cl_hud_minmode 1
cl_use_tournament_specgui 1

glow_outline_effect_enable 0 // allergedly lags
cl_hud_playerclass_use_playermodel 0

fov_desired 90
viewmodel_fov 90
// use minimal viewmodels: yes
tf_use_min_viewmodels 1
r_drawviewmodel 1
cl_flipviewmodels 0

tf_spectator_target_location 0
hud_freezecamhide 0
tf_spectate_pyrovision 0
tf_romevision_opt_in 1



// PERFORMANCE OPTIONS

tf_particles_disable_weather 0

// HTML MOTD is enabled, but an adblocker should be used
cl_disablehtmlmotd 0




// MISC OPTIONS

// no dont take random screenshots
hud_takesshots 0

hud_classautokill 0
tf_respawn_on_loadoutchanges 1
cl_playerspraydisable 0

// close server browser upon join: no
sb_close_browser_on_connect 0

cl_cloud_settings 0
cl_steamscreenshots 1
cl_notifications_show_ingame 1
cl_trading_show_requests_from 3



// MISC MISCS EXTRAS

// required to get tr_walkway working
// >A quick way of doing this would be to make a "tr_walkway_rc2.cfg" file with this command in it so it is run automatically every time the map is loaded.
sv_allow_point_servercommand always

// any value other than 0 will prevent player from moving in a local hosted map
// host_thread_mode 0 // commented as file is in tr_walkway_rc2.cfg anyways

bind o kill
bind shift +duck
bindtoggle SEMICOLON "r_drawviewmodel" 0 1 // make it so that semicolon will toggle viewmodels

// you can't set more than 3 semicolons, you also can't set key combinations, you ALSO can't set a bind inside an alias for a command which takes a parameter, hence this ugly hack is required
alias loadpreset_1 "load_itempreset 0"
alias loadpreset_2 "load_itempreset 1"
alias loadpreset_3 "load_itempreset 2"
alias loadpreset_4 "load_itempreset 3"

alias +preset_1 "bind 1 loadpreset_1; bind 2 loadpreset_2"
alias +preset_2 "bind 3 loadpreset_3; bind 4 loadpreset_4"
alias -preset_1 "bind 1 slot1; bind 2 slot2"
alias -preset_2 "bind 3 slot3; bind 4 slot4"

alias +modkey "+preset_1; +preset_2"
alias -modkey "-preset_1; -preset_2"
bind alt +modkey

// https://wiki.teamfortress.com/wiki/List_of_maps
// map blacklists: (uncheck these in matchmake)
echo "-----     map blacklists     -----"

echo "cp: cp_dustbowl, cp_gorge, cp_junction"

echo "ctf: ctf_2fort, ctf_landfall, ctf_sawmill, ctf_well"

echo "5cp: cp_5gorge, cp_fastlane, cp_foundry, cp_powerhouse, cp_vanguard, cp_well"

echo "koth: koth_harvest, koth_sawmill"

echo "pl: pl_goldrush, pl_hoodoo, pl_thundermountain (all terrible 'staged' gimmicks)"

echo "-----------------------------------"
echo "-----     loaded autoexec     -----"
echo "-----------------------------------"
